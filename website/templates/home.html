{% extends "base.html" %}
{% block title %}Grades{% endblock %}

{% block content %}
<h1 class="mt-5">This is the home page.</h1>
<br />
<form class="text-center border border-light p-5 mb-5" method="Get" action="results">

    <p class="h4 mb-4">See Grade Distributions</p>

    <p class="mb-5">Know which professors or courses to take and avoid!</p>

    <!-- College -->

    <input class="form-control mb-4" placeholder="College" list="ice-cream-flavors" id="ice-cream-choice" name="ice-cream-choice" />

    <datalist id="ice-cream-flavors">
        <option value="Academic success center">
        <option value="Agriculture and life sciences">
        <option value="Architecture">
        <option value="Associate provost for undergraduate programs">
        <option value="Bush school of government & public service">
        <option value="Business">
        <option value="Dentistry (professional)">
        <option value="Dentistry (undergraduate/graduate)">
        <option value="Education">
        <option value="Engineering">
        <option value="Geosciences">
        <option value="Liberal arts">
        <option value="Medicine (professional)">
        <option value="Medicine (undergraduate & graduate)">
        <option value="Military science">
        <option value="Nursing">
        <option value="Pharmacy (professional)">
        <option value="Public health">
        <option value="School of law (professional)">
        <option value="School of law (undergraduate & graduate)">
        <option value="Science">
        <option value="Texas a&m university at galveston">
        <option value="Texas a&m university at qatar">
        <option value="Veterinary medicine (professional)">
        <option value="Veterinary medicine (undergraduate & graduate)">
    </datalist>

    <!-- Semester -->
    <label>Semester</label>
    <select name="semester" class="browser-default custom-select mb-4">
        <option value="" disabled>Choose semester</option>
        <option selected value="spring">Spring</option>
        <option value="summer">Summer</option>
        <option value="fall">Fall</option>
    </select>

    <!-- Semester -->
    <label>Year</label>
    <select name="year" class="browser-default custom-select mb-4">
        <option value="" disabled>Choose year</option>
        <option selected value="2016">2016</option>
        <option value="2017">2017</option>
        <option value="2018">2018</option>
        <option value="2019">2019</option>
        <option value="2020">2020</option>
        <option value="2021">2021</option>
    </select>

    <!-- Send button -->
    <button class="btn btn-info btn-block" type="submit">Send</button>

</form>

{% if grade_results|length == 0 %}
    <p>use the above form to get data</p>
{% else %}
    <table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th class="th-sm">Department</th>
                <th class="th-sm">Course</th>
                <th class="th-sm">Section</th>
                <th class="th-sm">A</th>
                <th class="th-sm">B</th>
                <th class="th-sm">C</th>
                <th class="th-sm">D</th>
                <th class="th-sm">F</th>
                <th class="th-sm">Instructor</th>
            </tr>
        </thead>
        <tbody>
            {% for grade in grade_results %}
            <tr>
                <td>{{ grade.department }}</td>
                <td>{{ grade.course }}</td>
                <td>{{ grade.section }}</td>
                <td>{{ grade.amount_A }} <div class="text-muted">({{ "%.2f"|format(grade.percent_A) }}%)</div></td>
                <td>{{ grade.amount_B }} <div class="text-muted">({{ "%.2f"|format(grade.percent_B) }})%</div></td>
                <td>{{ grade.amount_C }} <div class="text-muted">({{ "%.2f"|format(grade.percent_C) }})%</div></td>
                <td>{{ grade.amount_D }} <div class="text-muted">({{ "%.2f"|format(grade.percent_D) }})%</div></td>
                <td>{{ grade.amount_F }} <div class="text-muted">({{ "%.2f"|format(grade.percent_F) }})%</div></td>
                <td>{{ grade.instructor }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <th>Department</th>
                <th>Course</th>
                <th>Section</th>
                <th>A</th>
                <th>B</th>
                <th>C</th>
                <th>D</th>
                <th>F</th>
            </tr>
        </tfoot>
    </table>
{% endif %}
{% endblock %}